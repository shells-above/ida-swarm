---
title: IDA Swarm - System Architecture
---
graph LR
    subgraph entry["🚪 ENTRY POINTS"]
        plugin["IDA Plugin"]
        mcp["MCP Server"]
    end

    subgraph orch["🎯 ORCHESTRATOR"]
        direction TB
        orchestrator["Orchestrator<br/>(Task decomposition)"]
        spawner["Agent Spawner"]
        dbmgr["Database Manager"]
        merger["Merge Manager"]
    end

    subgraph state["📊 CENTRAL STATE"]
        direction TB
        tracker[("ToolCallTracker<br/>SQLite")]
        irc["IRC Server"]
    end

    subgraph agent_box["🤖 AGENTS (Parallel Processes)"]
        direction TB
        agent["Agent 1..N"]
        agent_note["Each has isolated<br/>DB copy"]
    end

    subgraph storage["💾 STORAGE"]
        direction TB
        maindb[("Main IDA DB")]
        agentdbs[("Agent DB<br/>Copies")]
    end

    claude["☁️ Claude API"]

    %% Main flow
    plugin -->|"1. Start"| orchestrator
    mcp -->|"1. Start"| orchestrator

    orchestrator -->|"2. Setup"| spawner
    orchestrator -->|"2. Setup"| dbmgr

    dbmgr -->|"Copy DB"| agentdbs
    spawner -->|"3. Spawn"| agent
    agent --> agentdbs

    agent <-->|"4. Writes/<br/>Conflicts"| tracker
    agent <-->|"4. IRC"| irc

    agent -->|"5. Complete"| orchestrator
    orchestrator -->|"6. Merge each<br/>agent's changes"| merger
    merger -->|"Query"| tracker
    merger -->|"Apply"| maindb

    orchestrator <-.-> claude
    agent <-.-> claude

    %% Styling
    classDef entryStyle fill:#E8F4F8,stroke:#2C3E50,stroke-width:2px
    classDef orchStyle fill:#D5E8F7,stroke:#2980B9,stroke-width:2px
    classDef stateStyle fill:#FCF3CF,stroke:#F39C12,stroke-width:2px
    classDef agentStyle fill:#D5F4E6,stroke:#27AE60,stroke-width:2px
    classDef storageStyle fill:#E8DAEF,stroke:#8E44AD,stroke-width:2px
    classDef externalStyle fill:#FADBD8,stroke:#E74C3C,stroke-width:2px

    class plugin,mcp entryStyle
    class orchestrator,spawner,dbmgr,merger orchStyle
    class tracker,irc stateStyle
    class agent,agent_note agentStyle
    class maindb,agentdbs storageStyle
    class claude externalStyle
